
https://github.com/MorningSunshineChen/mg-trafficprediction/blob/main/README.md
## Parameter Settings
Based on the proposed multi‑granularity model, we assess its performance in a scenario comprising 66 satellite nodes deployed in low Earth orbit. Each satellite has four neighboring nodes. The simulation duration is set to one month. The detailed hyperparameter settings for model training are presented in the table below:

| **Parameter**                        | **Value**            |
|--------------------------------------|----------------------|
| optimizer                            | Adam                 |
| data sampling interval              | 5 minutes            |
| initial learning rate               | 0.001                |
| historical data window $T$          | 6                    |
| batch size                           | 32                   |
| number of epochs                     | 200                  |
| computing device                     | NVIDIA A100 GPU      |
| consistency loss weight $\lambda$    | 0.1                  |
| dataset split ratio                  | 0.7:0.15:0.15        |
| number of service types              | 3                    |

## Dataset
Due to the lack of publicly available real-world satellite traffic datasets, traffic generation is simulated based on representative characteristics of service distribution. The geographic partitioning strategy in divides the Earth’s surface into $12 \times 24 = 288$ regions, and population data is available for each region. A ground station is deployed in every region. Each ground station serves a regional user cluster that has a relatively stable communication demand.

Since most traffic is handled by terrestrial infrastructure and only a small portion requires satellite relaying, it is assumed that approximately 5\% of ground station traffic is forwarded via satellite links . The traffic demand of ground station $g$ at time $t$ is modeled as:

$$
C_g(t) = \epsilon \lambda_g \gamma(t)
$$

where $\epsilon = 0.05$ denotes the proportion of traffic requiring satellite transmission, $\lambda_g$ is the number of users within the coverage of station $g$ (in units of $10^6$), and $\gamma(t)$ is a temporal modulation factor that captures diurnal variation in demand.

Service types are indexed by $k = 1, 2, \dots, K$, and the generation probability of service type $k$ at time $t$ is denoted as $\pi_k(t)$. The day is divided into four periods: 00:00-08:00, 08:00-18:00, 18:00-22:00, and 22:00-24:00. The probability proportions of generated traffic for the three service types in these periods are set to 0.1:0.1:0.8, 0.4:0.5:0.1, 0.6:0.3:0.1, and 0.1:0.1:0.8, respectively.

The demand for service $k$ generated by ground station $g$ at time $t$ is given by:

$$
C_g^k(t) = \pi_k(t) \cdot C_g(t)
$$

The set of ground stations covered by satellite $i$ at time $t$ is denoted as $\mathcal{G}_i$. The total amount of type-$k$ traffic received by satellite $i$ is calculated as:

$$
x_i^k(t) = \sum_{g \in \mathcal{G}_i} C_g^k(t)
$$

To support multi-hop routing in the satellite network, a gravity-inspired traffic splitting mechanism is applied. The set $\Omega$ represents the neighbors of satellite $i$ that are reachable for data forwarding. The proportion of type-$k$ traffic forwarded from satellite $i$ to satellite $j \in \Omega$ is determined by:

$$
x_{ij}^k(t) = x_i^k(t) \cdot \frac{x_j^k(t) / d^{ij}_t}{\sum_{q \in \Omega} x_q^k(t) / d^{iq}_t}
$$

where $d^{ij}_t$ is the distance between satellites $i$ and $j$ at time $t$. The total traffic transmitted from node $i$ to node $j$ is obtained by summing across all service types:

$$
x_{ij}(t) = \sum_{k=1}^K x_{ij}^k(t)
$$

This modeling framework incorporates population distribution, temporal variability, spatial topology, and coverage constraints, and results in a synthetic satellite network dataset.

## Evaluation Metrics
- **MAE (Mean Absolute Error)** and **RMSE (Root Mean Square Error)** 
- **CORR (Pearson Correlation Coefficient)** and **COS (Cosine Similarity)** 
